// Code generated by entc, DO NOT EDIT.

package migrate

import (
	"entgo.io/ent/dialect/sql/schema"
	"entgo.io/ent/schema/field"
)

var (
	// BranchesColumns holds the columns for the "branches" table.
	BranchesColumns = []*schema.Column{
		{Name: "id", Type: field.TypeInt, Increment: true},
		{Name: "key", Type: field.TypeString, Unique: true},
		{Name: "owner", Type: field.TypeString},
		{Name: "repo_name", Type: field.TypeString},
		{Name: "name", Type: field.TypeString},
	}
	// BranchesTable holds the schema information for the "branches" table.
	BranchesTable = &schema.Table{
		Name:       "branches",
		Columns:    BranchesColumns,
		PrimaryKey: []*schema.Column{BranchesColumns[0]},
	}
	// PackageRecordsColumns holds the columns for the "package_records" table.
	PackageRecordsColumns = []*schema.Column{
		{Name: "id", Type: field.TypeInt, Increment: true},
		{Name: "type", Type: field.TypeEnum, Enums: []string{"rubygems", "npm", "gomod", "pypi"}},
		{Name: "source", Type: field.TypeString},
		{Name: "name", Type: field.TypeString},
		{Name: "version", Type: field.TypeString},
		{Name: "vuln_ids", Type: field.TypeJSON},
	}
	// PackageRecordsTable holds the schema information for the "package_records" table.
	PackageRecordsTable = &schema.Table{
		Name:       "package_records",
		Columns:    PackageRecordsColumns,
		PrimaryKey: []*schema.Column{PackageRecordsColumns[0]},
	}
	// ScansColumns holds the columns for the "scans" table.
	ScansColumns = []*schema.Column{
		{Name: "id", Type: field.TypeInt, Increment: true},
		{Name: "commit_id", Type: field.TypeString},
		{Name: "requested_at", Type: field.TypeInt64},
		{Name: "scanned_at", Type: field.TypeInt64, Nullable: true},
		{Name: "check_id", Type: field.TypeInt64},
		{Name: "pull_request_target", Type: field.TypeString, Nullable: true},
	}
	// ScansTable holds the schema information for the "scans" table.
	ScansTable = &schema.Table{
		Name:       "scans",
		Columns:    ScansColumns,
		PrimaryKey: []*schema.Column{ScansColumns[0]},
	}
	// VulnStatusColumns holds the columns for the "vuln_status" table.
	VulnStatusColumns = []*schema.Column{
		{Name: "id", Type: field.TypeString, Unique: true},
		{Name: "status", Type: field.TypeEnum, Enums: []string{"none", "snoozed", "mitigated", "unaffected", "fixed"}},
		{Name: "vuln_id", Type: field.TypeString},
		{Name: "expires_at", Type: field.TypeInt64},
		{Name: "created_at", Type: field.TypeInt64},
		{Name: "package_record_status", Type: field.TypeInt, Nullable: true},
		{Name: "vulnerability_status", Type: field.TypeString, Nullable: true},
	}
	// VulnStatusTable holds the schema information for the "vuln_status" table.
	VulnStatusTable = &schema.Table{
		Name:       "vuln_status",
		Columns:    VulnStatusColumns,
		PrimaryKey: []*schema.Column{VulnStatusColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "vuln_status_package_records_status",
				Columns:    []*schema.Column{VulnStatusColumns[5]},
				RefColumns: []*schema.Column{PackageRecordsColumns[0]},
				OnDelete:   schema.SetNull,
			},
			{
				Symbol:     "vuln_status_vulnerabilities_status",
				Columns:    []*schema.Column{VulnStatusColumns[6]},
				RefColumns: []*schema.Column{VulnerabilitiesColumns[0]},
				OnDelete:   schema.SetNull,
			},
		},
	}
	// VulnerabilitiesColumns holds the columns for the "vulnerabilities" table.
	VulnerabilitiesColumns = []*schema.Column{
		{Name: "id", Type: field.TypeString, Unique: true},
		{Name: "first_seen_at", Type: field.TypeInt64},
		{Name: "last_modified_at", Type: field.TypeInt64},
		{Name: "title", Type: field.TypeString, Nullable: true},
		{Name: "description", Type: field.TypeString, Nullable: true},
		{Name: "cwe_id", Type: field.TypeJSON, Nullable: true},
		{Name: "severity", Type: field.TypeString, Nullable: true},
		{Name: "cvss", Type: field.TypeJSON, Nullable: true},
		{Name: "references", Type: field.TypeJSON, Nullable: true},
	}
	// VulnerabilitiesTable holds the schema information for the "vulnerabilities" table.
	VulnerabilitiesTable = &schema.Table{
		Name:       "vulnerabilities",
		Columns:    VulnerabilitiesColumns,
		PrimaryKey: []*schema.Column{VulnerabilitiesColumns[0]},
	}
	// BranchScanColumns holds the columns for the "branch_scan" table.
	BranchScanColumns = []*schema.Column{
		{Name: "branch_id", Type: field.TypeInt},
		{Name: "scan_id", Type: field.TypeInt},
	}
	// BranchScanTable holds the schema information for the "branch_scan" table.
	BranchScanTable = &schema.Table{
		Name:       "branch_scan",
		Columns:    BranchScanColumns,
		PrimaryKey: []*schema.Column{BranchScanColumns[0], BranchScanColumns[1]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "branch_scan_branch_id",
				Columns:    []*schema.Column{BranchScanColumns[0]},
				RefColumns: []*schema.Column{BranchesColumns[0]},
				OnDelete:   schema.Cascade,
			},
			{
				Symbol:     "branch_scan_scan_id",
				Columns:    []*schema.Column{BranchScanColumns[1]},
				RefColumns: []*schema.Column{ScansColumns[0]},
				OnDelete:   schema.Cascade,
			},
		},
	}
	// PackageRecordVulnerabilitiesColumns holds the columns for the "package_record_vulnerabilities" table.
	PackageRecordVulnerabilitiesColumns = []*schema.Column{
		{Name: "package_record_id", Type: field.TypeInt},
		{Name: "vulnerability_id", Type: field.TypeString},
	}
	// PackageRecordVulnerabilitiesTable holds the schema information for the "package_record_vulnerabilities" table.
	PackageRecordVulnerabilitiesTable = &schema.Table{
		Name:       "package_record_vulnerabilities",
		Columns:    PackageRecordVulnerabilitiesColumns,
		PrimaryKey: []*schema.Column{PackageRecordVulnerabilitiesColumns[0], PackageRecordVulnerabilitiesColumns[1]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "package_record_vulnerabilities_package_record_id",
				Columns:    []*schema.Column{PackageRecordVulnerabilitiesColumns[0]},
				RefColumns: []*schema.Column{PackageRecordsColumns[0]},
				OnDelete:   schema.Cascade,
			},
			{
				Symbol:     "package_record_vulnerabilities_vulnerability_id",
				Columns:    []*schema.Column{PackageRecordVulnerabilitiesColumns[1]},
				RefColumns: []*schema.Column{VulnerabilitiesColumns[0]},
				OnDelete:   schema.Cascade,
			},
		},
	}
	// ScanPackagesColumns holds the columns for the "scan_packages" table.
	ScanPackagesColumns = []*schema.Column{
		{Name: "scan_id", Type: field.TypeInt},
		{Name: "package_record_id", Type: field.TypeInt},
	}
	// ScanPackagesTable holds the schema information for the "scan_packages" table.
	ScanPackagesTable = &schema.Table{
		Name:       "scan_packages",
		Columns:    ScanPackagesColumns,
		PrimaryKey: []*schema.Column{ScanPackagesColumns[0], ScanPackagesColumns[1]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "scan_packages_scan_id",
				Columns:    []*schema.Column{ScanPackagesColumns[0]},
				RefColumns: []*schema.Column{ScansColumns[0]},
				OnDelete:   schema.Cascade,
			},
			{
				Symbol:     "scan_packages_package_record_id",
				Columns:    []*schema.Column{ScanPackagesColumns[1]},
				RefColumns: []*schema.Column{PackageRecordsColumns[0]},
				OnDelete:   schema.Cascade,
			},
		},
	}
	// Tables holds all the tables in the schema.
	Tables = []*schema.Table{
		BranchesTable,
		PackageRecordsTable,
		ScansTable,
		VulnStatusTable,
		VulnerabilitiesTable,
		BranchScanTable,
		PackageRecordVulnerabilitiesTable,
		ScanPackagesTable,
	}
)

func init() {
	VulnStatusTable.ForeignKeys[0].RefTable = PackageRecordsTable
	VulnStatusTable.ForeignKeys[1].RefTable = VulnerabilitiesTable
	BranchScanTable.ForeignKeys[0].RefTable = BranchesTable
	BranchScanTable.ForeignKeys[1].RefTable = ScansTable
	PackageRecordVulnerabilitiesTable.ForeignKeys[0].RefTable = PackageRecordsTable
	PackageRecordVulnerabilitiesTable.ForeignKeys[1].RefTable = VulnerabilitiesTable
	ScanPackagesTable.ForeignKeys[0].RefTable = ScansTable
	ScanPackagesTable.ForeignKeys[1].RefTable = PackageRecordsTable
}
